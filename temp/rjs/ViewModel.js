define(["require","exports","EventGroup"],function(t,e,n){var i=function(){function t(e){this.data={},this.id=t._instanceCount++,this.events=new n(this),this.events.declare("change"),this.setData(e)}return t.prototype.dispose=function(){this.events.dispose()},t.prototype.setData=function(t,e){var i=!1;for(var s in t)if(t.hasOwnProperty(s)){var a=this.data[s],o=t[s];a!==o&&(a&&n.isDeclared(a,"change")&&this.events.off(a),this.data[s]=o,i=!0,o&&n.isDeclared(o,"change")&&this.events.on(o,"change",this.change))}(i&&e!==!1||e===!0)&&this.events.raise("change")},t.prototype.onInitialize=function(){},t.prototype.change=function(t){this.events.raise("change",t)},t._instanceCount=0,t}();return i});