var __extends=this.__extends||function(t,e){function n(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);n.prototype=e.prototype,t.prototype=new n};define(["require","exports","View"],function(t,e,n){var o=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype.getContentType=function(){return this.getViewModel().data.contentType},n.prototype.onInitialize=function(){this.updateContent()},n.prototype.onRenderHtml=function(){var t='<div id="'+this.id+'">';return this.activeControl&&(t+=this.activeControl.renderHtml()),t+="</div>"},n.prototype.onActivate=function(){this.containerElement=document.getElementById(this.id)},n.prototype.onViewModelChanged=function(){this.updateContent()},n.prototype.updateContent=function(){var e=this,n=e.getContentType(e.getViewModel().data);n!=e.activeContentType?(e.activeContentType=n,e.activeControl&&(e.activeControl.dispose(),e.removeChild(e.activeControl)),t([n],function(t){2==e._state&&n==e.activeContentType&&(e.activeControl=e.addChild(new t),e.activeControl.setData(e.getViewModel().data),e.swapInControl(e.activeControl))})):e.activeControl&&e.activeControl.setData(e.getViewModel().data)},n.prototype.swapInControl=function(t){this.containerElement.innerHTML=t.renderHtml(),t.activate()},n}(n);return o});